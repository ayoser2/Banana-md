/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/
const _0x32a615=_0x1495;(function(_0x228d67,_0x55c0f1){const _0x488aa3=_0x1495,_0x46677b=_0x228d67();while(!![]){try{const _0x56946b=-parseInt(_0x488aa3(0xc5))/0x1*(parseInt(_0x488aa3(0xb1))/0x2)+parseInt(_0x488aa3(0xb9))/0x3+parseInt(_0x488aa3(0xb7))/0x4+-parseInt(_0x488aa3(0xb0))/0x5*(-parseInt(_0x488aa3(0xaf))/0x6)+-parseInt(_0x488aa3(0xac))/0x7+parseInt(_0x488aa3(0xc0))/0x8+parseInt(_0x488aa3(0xbb))/0x9*(parseInt(_0x488aa3(0xbe))/0xa);if(_0x56946b===_0x55c0f1)break;else _0x46677b['push'](_0x46677b['shift']());}catch(_0x3f40ac){_0x46677b['push'](_0x46677b['shift']());}}}(_0x3fcd,0x8468d));const fs=require('fs'),toMs=require('ms'),cron=require('node-cron'),config=JSON['parse'](fs[_0x32a615(0xba)]('./lib/database/config.json')),time=require('moment-timezone')['tz'](config[_0x32a615(0xc1)])['format'](_0x32a615(0xcb)),addUser=(_0x32517c,_0x1dd113,_0x3d6cbb)=>{const _0x44a7dd=_0x32a615;let _0xe9fd94=![];Object[_0x44a7dd(0xbd)](_0x3d6cbb)[_0x44a7dd(0xc3)](_0x3ffde8=>{_0x3d6cbb[_0x3ffde8]['id']===_0x32517c&&(_0xe9fd94=!![]);});if(_0xe9fd94===![]){const _0x1d5f11={'id':_0x32517c,'verified':![],'name':_0x1dd113,'time':time,'limit':0x0,'balance':0x0,'premium':![]};return _0x3d6cbb[_0x44a7dd(0xb3)](_0x1d5f11),fs[_0x44a7dd(0xc6)]('./database/user.json',JSON[_0x44a7dd(0xc9)](_0x3d6cbb,null,0x4)),![];}},checkUser=(_0x50c6c6,_0x3b242f)=>{const _0x5f2077=_0x32a615;let _0xa60d5f=![];return Object[_0x5f2077(0xbd)](_0x3b242f)[_0x5f2077(0xc3)](_0x5e2cb8=>{_0x3b242f[_0x5e2cb8]['id']===_0x50c6c6&&(_0xa60d5f=!![]);}),_0xa60d5f;},isLimit=(_0x230317,_0x2769e1,_0xe4d207,_0x212b41,_0x236a9b)=>{const _0x395dc3=_0x32a615;if(_0x2769e1||_0xe4d207)return![];let _0x3ed3b9=![];for(let _0x47f014 of _0x236a9b){if(_0x47f014['id']===_0x230317)return _0x47f014[_0x395dc3(0xbc)]>=_0x212b41?(_0x3ed3b9=!![],!![]):(_0x3ed3b9=!![],![]);}if(_0x3ed3b9===![]){const _0xfef7be={'id':_0x230317,'limit':0x0};return _0x236a9b['push'](_0xfef7be),fs[_0x395dc3(0xc6)](_0x395dc3(0xbf),JSON[_0x395dc3(0xc9)](_0x236a9b,null,0x4)),![];}},limitAdd=(_0x2127e9,_0x3de3dc,_0x35656d,_0x47fc61)=>{const _0x31d55d=_0x32a615;if(_0x3de3dc||_0x35656d)return![];let _0x3ab220=![];Object['keys'](_0x47fc61)[_0x31d55d(0xc3)](_0x1e57c8=>{_0x47fc61[_0x1e57c8]['id']===_0x2127e9&&(_0x3ab220=_0x1e57c8);}),_0x3ab220!==![]&&(_0x47fc61[_0x3ab220][_0x31d55d(0xbc)]+=0x1,fs['writeFileSync']('./database/user.json',JSON[_0x31d55d(0xc9)](_0x47fc61,null,0x4)));},getLimit=(_0x3fb202,_0x27f29f)=>{const _0x3d08f0=_0x32a615;let _0x58b5c2=null,_0x189a6c=![];Object[_0x3d08f0(0xbd)](_0x27f29f)[_0x3d08f0(0xc3)](_0x29f98a=>{_0x27f29f[_0x29f98a]['id']===_0x3fb202&&(_0x58b5c2=_0x29f98a,_0x189a6c=!![]);});if(_0x189a6c===![]&&_0x58b5c2===null){const _0x348d9a={'id':_0x3fb202,'limit':0x0};return _0x27f29f['push'](_0x348d9a),fs[_0x3d08f0(0xc6)](_0x3d08f0(0xbf),JSON[_0x3d08f0(0xc9)](_0x27f29f,null,0x4)),0x0;}else return _0x27f29f[_0x58b5c2]['limit'];},addBalance=(_0x5690e6,_0x6c13c7,_0x166b68)=>{const _0x363788=_0x32a615;let _0x2720c8=![];Object[_0x363788(0xbd)](_0x166b68)[_0x363788(0xc3)](_0x360a1e=>{_0x166b68[_0x360a1e]['id']===_0x5690e6&&(_0x2720c8=_0x360a1e);}),_0x2720c8!==![]&&(_0x166b68[_0x2720c8][_0x363788(0xae)]+=_0x6c13c7,fs[_0x363788(0xc6)]('./database/user.json',JSON['stringify'](_0x166b68,null,0x4)));},getBalance=(_0x2ce3e7,_0x36901f)=>{const _0x73dc7a=_0x32a615;let _0x4ed944=![];return Object['keys'](_0x36901f)['forEach'](_0x2613aa=>{_0x36901f[_0x2613aa]['id']===_0x2ce3e7&&(_0x4ed944=_0x2613aa);}),_0x4ed944!==![]?_0x36901f[_0x4ed944][_0x73dc7a(0xae)]:0x0;},addPremiumUser=(_0x220271,_0x471845,_0x48f236)=>{const _0x4a16b9=_0x32a615;let _0x1d4dc9=![];Object[_0x4a16b9(0xbd)](_0x48f236)['forEach'](_0x6b7d40=>{_0x48f236[_0x6b7d40]['id']===_0x220271&&(_0x1d4dc9=_0x6b7d40);}),_0x1d4dc9!==![]&&(_0x48f236[_0x1d4dc9][_0x4a16b9(0xc2)]=!![],_0x48f236[_0x1d4dc9][_0x4a16b9(0xad)]=Date[_0x4a16b9(0xc8)]()+toMs(_0x471845),fs[_0x4a16b9(0xc6)](_0x4a16b9(0xbf),JSON[_0x4a16b9(0xc9)](_0x48f236,null,0x4)));},delPremiumUser=(_0x2c3bc9,_0x3936d1)=>{const _0x2a0fd7=_0x32a615;let _0x10df01=![];Object['keys'](_0x3936d1)['forEach'](_0x162ab3=>{_0x3936d1[_0x162ab3]['id']===_0x2c3bc9&&(_0x10df01=_0x162ab3);}),_0x10df01!==![]&&(_user[_0x10df01][_0x2a0fd7(0xbc)]=0x0,_user[_0x10df01][_0x2a0fd7(0xc2)]=![],delete _user[_0x10df01]['expired'],console[_0x2a0fd7(0xb6)](_0x2a0fd7(0xc4)+_user[_0x10df01]['id']),fs[_0x2a0fd7(0xc6)](_0x2a0fd7(0xbf),JSON[_0x2a0fd7(0xc9)](_user,null,0x4)));},getPremiumPosition=(_0x54bc79,_0xf2d8cc)=>{const _0x4791f6=_0x32a615;let _0x4ee666=null;Object[_0x4791f6(0xbd)](_0xf2d8cc)[_0x4791f6(0xc3)](_0x5d7c96=>{_0xf2d8cc[_0x5d7c96]['id']===_0x54bc79&&(_0x4ee666=_0x5d7c96);});if(_0x4ee666!==null)return _0x4ee666;},checkPremiumUser=(_0x2cf2e9,_0x328877,_0x4526ff)=>{const _0x3a1f9f=_0x32a615;if(_0x328877)return!![];let _0x4a3e98=null;Object[_0x3a1f9f(0xbd)](_0x4526ff)['forEach'](_0x5da159=>{_0x4526ff[_0x5da159]['id']===_0x2cf2e9&&(_0x4a3e98=_0x5da159);});if(_0x4a3e98!==null)return _0x4526ff[_0x4a3e98]['premium'];},getPremiumExpired=(_0x56223f,_0x2bc2a9)=>{const _0x5cec3c=_0x32a615;let _0x2bc7a4=null;Object[_0x5cec3c(0xbd)](_0x2bc2a9)[_0x5cec3c(0xc3)](_0x2f3613=>{_0x2bc2a9[_0x2f3613]['id']===_0x56223f&&(_0x2bc7a4=_0x2f3613);});if(_0x2bc7a4!==null)return _0x2bc2a9[_0x2bc7a4][_0x5cec3c(0xad)];},expiredCheck=(_0x58f524,_0x5e74ac,_0x3484d3)=>{setInterval(()=>{const _0x44d0cf=_0x1495;let _0x29331b=![];Object['keys'](_0x3484d3)[_0x44d0cf(0xc3)](_0x3616d0=>{const _0x45b4e7=_0x44d0cf;Date[_0x45b4e7(0xc8)]()>=_0x3484d3[_0x3616d0][_0x45b4e7(0xad)]&&(_0x29331b=_0x3616d0);}),_0x29331b!==![]&&(idny=_0x3484d3[_0x29331b]['id'],_0x3484d3[_0x29331b][_0x44d0cf(0xbc)]=0x0,_0x3484d3[_0x29331b]['premium']=![],delete _0x3484d3[_0x29331b][_0x44d0cf(0xad)],console[_0x44d0cf(0xb6)](_0x44d0cf(0xb2)+_0x3484d3[_0x29331b]['id']),fs[_0x44d0cf(0xc6)](_0x44d0cf(0xbf),JSON[_0x44d0cf(0xc9)](_0x3484d3,null,0x4)),idny?_0x58f524[_0x44d0cf(0xb4)](idny,_0x44d0cf(0xca),_0x5e74ac):'',idny=![]);},0x2710);};function _0x3fcd(){const _0x2f80dc=['balance','253614fTZGsf','55RlqsKU','615878giKHpe','Premium\x20expired:\x20','push','sendText','0\x200\x20*\x20*\x20*','log','1062808QSkpmN','Resetting\x20user\x20limit...','2664408latZuf','readFileSync','300609byzCpm','limit','keys','10ohRtNM','./database/user.json','2211664OhnwAY','timezone','premium','forEach','Premium\x20Deleted:\x20','2wlbNCA','writeFileSync','exports','now','stringify','Your\x20Premium\x20Role\x20has\x20run\x20out','DD/MM\x20HH:mm:ss','5393003URuZTQ','expired'];_0x3fcd=function(){return _0x2f80dc;};return _0x3fcd();}function _0x1495(_0x737b83,_0x585210){const _0x3fcd68=_0x3fcd();return _0x1495=function(_0x1495ab,_0x3dd6b1){_0x1495ab=_0x1495ab-0xac;let _0xf15c3f=_0x3fcd68[_0x1495ab];return _0xf15c3f;},_0x1495(_0x737b83,_0x585210);}cron['schedule'](_0x32a615(0xb5),()=>{const _0x1858d8=_0x32a615;Object[_0x1858d8(0xbd)](_user)[_0x1858d8(0xc3)](_0x139ef0=>{const _0x1774f9=_0x1858d8;_user[_0x139ef0][_0x1774f9(0xbc)]=0x0,fs['writeFileSync'](_0x1774f9(0xbf),JSON[_0x1774f9(0xc9)](_user,null,0x4));}),console[_0x1858d8(0xb6)](_0x1858d8(0xb8));},{'scheduled':!![],'timezone':config[_0x32a615(0xc1)]}),module[_0x32a615(0xc7)]={'addUser':addUser,'checkUser':checkUser,'isLimit':isLimit,'limitAdd':limitAdd,'getLimit':getLimit,'addBalance':addBalance,'getBalance':getBalance,'addPremiumUser':addPremiumUser,'delPremiumUser':delPremiumUser,'checkPremiumUser':checkPremiumUser,'getPremiumExpired':getPremiumExpired,'expiredCheck':expiredCheck};
